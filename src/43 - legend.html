<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    >
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
<div id="chart-area"></div>

<script>

const margin = { top: 10, right: 10, bottom: 100, left: 70 };
const chartW = 900 - margin.left - margin.right;
const chartH = 950 - margin.top - margin.bottom;

const svg = d3.select('#chart-area')
    .append('svg')
    .attr('width', chartW + margin.left + margin.right)
    .attr('height', chartH + margin.top + margin.bottom)
    .style('border', '1px solid');

const g = svg.append('g')
    .attr('transform', `translate(${margin.left},${margin.top})`);

const continents = ['europe', 'asia', 'americas', 'africa'];
const continentColor = d3.scaleOrdinal()
    .domain(continents)
    .range(d3.schemeCategory10);

const legend = g.append('g')
    .attr('transform', `translate(${chartW - 200},${10})`);

continents.forEach((continent, i) => {

    const legendRow = legend.append('g')
        .attr('transform', `translate(0, ${i * 20})`);

    const rect = legendRow.append('rect')
        .attr('width', 10)
        .attr('height', 10)
        .attr('fill', continentColor(continent))
    ;

    const label = legendRow.append('text')
        .attr('x', -10)
        .attr('y', 10)
        .attr('text-anchor', 'end')
        .style('text-transform', 'capitalize')
        .text(continent);

});

</script>

</body>
</html>
